name: test

on:
  schedule:
    - cron:  '12 12 13 12 5'
  workflow_dispatch:
    inputs:
      bq_environment:
        description: 'select environment'
        required: true
        default: test
        type: choice
        options:
        - test
        - prod
      branch:
  pull_request:
    branches:
      - main
    types: [opened,closed,edited, synchronize, reopened]

env:
  test: "test1"
  test2: "test2"

jobs:
  scheduled_run:
    name: scheduled_run
    runs-on: ubuntu-latest

    steps:
      # - name: checkout
      #   uses: actions/checkout@v2
      #   with:
      #     fetch-depth: 0
      
      # - name: log
      #   if: github.event.pull_request.merged == false
      #   run: |
      #     echo "${{ github.event.pull_request }}"

      # - name: run_models_test
      #   if: github.event.pull_request.merged == false
      #   run: |
      #     echo "NOT MERGED"
      
      # - name: run_models_prod
      #   if: github.event.pull_request.merged == true
      #   run: |
      #     echo "MERGED"
      - name: test workflow dispatch
        if: github.event_name == 'workflow_dispatch'
        env: 
          test: "changed test"
        run: |
          echo ${{ inputs.bq_environment}}
          echo ${{ inputs.branch }}



          
          
      